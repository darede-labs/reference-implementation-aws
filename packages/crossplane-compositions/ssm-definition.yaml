apiVersion: apiextensions.crossplane.io/v1
kind: CompositeResourceDefinition
metadata:
  name: xssmparameters.darede.io
spec:
  group: darede.io
  names:
    kind: XSSMParameter
    plural: xssmparameters
  claimNames:
    kind: SSMParameter
    plural: ssmparameters

  versions:
    - name: v1alpha1
      served: true
      referenceable: true
      schema:
        openAPIV3Schema:
          type: object
          properties:
            spec:
              type: object
              properties:
                parameterName:
                  type: string
                  description: "Nome do parâmetro SSM"
                region:
                  type: string
                  description: "Região AWS"
                  default: "us-east-1"
                  enum:
                    - us-east-1
                    - us-east-2
                    - us-west-1
                    - us-west-2
                description:
                  type: string
                  description: "Descrição do parâmetro"
                type:
                  type: string
                  description: "Tipo do parâmetro"
                  default: "String"
                  enum:
                    - String
                    - StringList
                    - SecureString
                value:
                  type: string
                  description: "Valor do parâmetro"
                  default: ""
                tier:
                  type: string
                  description: "Tier do parâmetro"
                  default: "Standard"
                  enum:
                    - Standard
                    - Advanced
                    - Intelligent-Tiering
                dataType:
                  type: string
                  description: "Tipo de dados"
                  default: "text"
                  enum:
                    - text
                    - aws:ec2:image
                    - aws:ssm:integration
                kmsKeyId:
                  type: string
                  description: "KMS Key ID para SecureString"
                allowedPattern:
                  type: string
                  description: "Padrão regex permitido para o valor"
                tags:
                  type: object
                  description: "Tags customizadas"
                  additionalProperties:
                    type: string
              required:
                - parameterName
                - value
            status:
              type: object
              properties:
                parameterArn:
                  type: string
                  description: "ARN do parâmetro"
                version:
                  type: integer
                  description: "Versão do parâmetro"
